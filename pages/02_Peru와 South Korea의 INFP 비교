import streamlit as st
import pandas as pd
import plotly.express as px

# ì œëª©
st.title("ğŸŒ Peru vs ğŸ‡°ğŸ‡· South Korea INFP ë¹„ìœ¨ ë¹„êµ ğŸ’¡")

# CSV ë¶ˆëŸ¬ì˜¤ê¸°
df = pd.read_csv("countriesMBTI_16types.csv")

# Peruì™€ South Korea ë°ì´í„° ì¶”ì¶œ
countries = ["Peru", "South Korea"]
subset = df[df["Country"].isin(countries)][["Country", "INFP"]]

# Plotly ë§‰ëŒ€ ê·¸ë˜í”„ ìƒì„±
fig = px.bar(
    subset,
    x="Country",
    y="INFP",
    text="INFP",
    color="Country",
    color_discrete_sequence=px.colors.qualitative.Set2,
    title="ğŸŒ INFP ë¹„ìœ¨ ë¹„êµ"
)

# ê·¸ë˜í”„ ê¾¸ë¯¸ê¸°
fig.update_traces(texttemplate="%{text:.2%}", textposition="outside")
fig.update_layout(
    xaxis_title="êµ­ê°€",
    yaxis_title="INFP ë¹„ìœ¨",
    title_x=0.5,
    bargap=0.4,
    plot_bgcolor="white"
)

# ì¶œë ¥
st.plotly_chart(fig, use_container_width=True)
